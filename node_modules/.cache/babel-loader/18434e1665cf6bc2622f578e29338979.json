{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yj/avo_market/node_modules/@babel/runtime/regenerator\";\nimport _toConsumableArray from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _asyncToGenerator from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yj/avo_market/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yj/avo_market/src/App.js\";\nimport React, { Component } from 'react';\nimport { Interactions } from 'aws-amplify';\nimport { ChatFeed, Message } from 'react-chat-ui';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      input: '',\n      finalMessage: '',\n      messages: [new Message({\n        id: 1,\n        message: \"Hello, how can I help you today?\"\n      })]\n    };\n\n    _this._handleKeyPress = function (e) {\n      if (e.key === 'Enter') {\n        _this.submitMessage();\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"onChange\",\n    value: function onChange(e) {\n      var input = e.target.value;\n      this.setState({\n        input: input\n      });\n    }\n  }, {\n    key: \"submitMessage\",\n    value: function () {\n      var _submitMessage = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var input, message, messages, response, responseMessage, _response$slots, BookTripCheckInDate, BookTripLocation, BookTripNights, BookTripRoomType, finalMessage;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                input = this.state.input;\n\n                if (!(input === '')) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                message = new Message({\n                  id: 0,\n                  message: input\n                });\n                messages = [].concat(_toConsumableArray(this.state.messages), [message]);\n                this.setState({\n                  messages: messages,\n                  input: ''\n                });\n                _context.next = 8;\n                return Interactions.send(\"BookTripMOBILEHUB\", input);\n\n              case 8:\n                response = _context.sent;\n                responseMessage = new Message({\n                  id: 1,\n                  message: response.message\n                });\n                messages = [].concat(_toConsumableArray(this.state.messages), [responseMessage]);\n                this.setState({\n                  messages: messages\n                });\n\n                if (response.dialogState === 'Fulfilled') {\n                  if (response.intentName === 'BookTripBookHotel') {\n                    _response$slots = response.slots, BookTripCheckInDate = _response$slots.BookTripCheckInDate, BookTripLocation = _response$slots.BookTripLocation, BookTripNights = _response$slots.BookTripNights, BookTripRoomType = _response$slots.BookTripRoomType;\n                    finalMessage = \"Congratulations! Your trip to \".concat(BookTripLocation, \"  with a \").concat(BookTripRoomType, \" rooom on \").concat(BookTripCheckInDate, \" for \").concat(BookTripNights, \" days has been booked!!\");\n                    this.setState({\n                      finalMessage: finalMessage\n                    });\n                  }\n                }\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submitMessage() {\n        return _submitMessage.apply(this, arguments);\n      }\n\n      return submitMessage;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        style: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        style: styles.headerTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"Welcome to my travel bot!\")), React.createElement(\"div\", {\n        style: styles.messagesContainer,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, this.state.finalMessage), React.createElement(ChatFeed, {\n        messages: this.state.messages,\n        hasInputField: false,\n        bubbleStyles: styles.bubbleStyles,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        onKeyPress: this._handleKeyPress,\n        onChange: this.onChange.bind(this),\n        style: styles.input,\n        value: this.state.input,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar styles = {\n  bubbleStyles: {\n    text: {\n      fontSize: 16\n    },\n    chatbubble: {\n      borderRadius: 30,\n      padding: 10\n    }\n  },\n  headerTitle: {\n    color: 'white',\n    fontSize: 22\n  },\n  header: {\n    backgroundColor: 'rgb(0, 132, 255)',\n    padding: 20,\n    borderTop: '12px solid rgb(204, 204, 204)'\n  },\n  messagesContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: 10,\n    alignItems: 'center'\n  },\n  input: {\n    fontSize: 16,\n    padding: 10,\n    outline: 'none',\n    width: 350,\n    border: 'none',\n    borderBottom: '2px solid rgb(0, 132, 255)'\n  }\n};\nexport default App;","map":{"version":3,"sources":["/Users/yj/avo_market/src/App.js"],"names":["React","Component","Interactions","ChatFeed","Message","App","state","input","finalMessage","messages","id","message","_handleKeyPress","e","key","submitMessage","target","value","setState","send","response","responseMessage","dialogState","intentName","slots","BookTripCheckInDate","BookTripLocation","BookTripNights","BookTripRoomType","styles","header","headerTitle","messagesContainer","bubbleStyles","onChange","bind","text","fontSize","chatbubble","borderRadius","padding","color","backgroundColor","borderTop","display","flexDirection","alignItems","outline","width","border","borderBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Interactions } from 'aws-amplify';\nimport { ChatFeed, Message } from 'react-chat-ui'\n\nclass App extends Component {\n  state = {\n    input: '',\n    finalMessage: '',\n    messages: [\n      new Message({\n        id: 1,\n        message: \"Hello, how can I help you today?\",\n      })\n    ]\n  }\n  _handleKeyPress = (e) => {\n    if (e.key === 'Enter') {\n      this.submitMessage()\n    }\n  }\n  onChange(e) {\n    const input = e.target.value\n    this.setState({\n      input\n    })\n  }\n  async submitMessage() {\n    const { input } = this.state\n    if (input === '') return\n    const message = new Message({\n      id: 0,\n      message: input,\n    })\n    let messages = [...this.state.messages, message]\n\n    this.setState({\n      messages,\n      input: ''\n    })\n    const response = await Interactions.send(\"BookTripMOBILEHUB\", input);\n    const responseMessage = new Message({\n      id: 1,\n      message: response.message,\n    })\n    messages  = [...this.state.messages, responseMessage]\n    this.setState({ messages })\n\n    if (response.dialogState === 'Fulfilled') {\n      if (response.intentName === 'BookTripBookHotel') {\n        const { slots: { BookTripCheckInDate, BookTripLocation, BookTripNights, BookTripRoomType } } = response\n        const finalMessage = `Congratulations! Your trip to ${BookTripLocation}  with a ${BookTripRoomType} rooom on ${BookTripCheckInDate} for ${BookTripNights} days has been booked!!`\n        this.setState({ finalMessage })\n      }\n    }\n  }\n\n  render() {\n    \n    return (\n      <div className=\"App\">\n      <header style={styles.header}>\n        <p style={styles.headerTitle}>Welcome to my travel bot!</p>\n      </header>\n      <div style={styles.messagesContainer}>\n      <h2>{this.state.finalMessage}</h2>\n      <ChatFeed\n        messages={this.state.messages}\n        hasInputField={false}\n        bubbleStyles={styles.bubbleStyles}\n      />\n\n      <input\n        onKeyPress={this._handleKeyPress}\n        onChange={this.onChange.bind(this)}\n        style={styles.input}\n        value={this.state.input}\n      />\n      </div>\n    </div>\n  );\n}\n}\n\nconst styles = {\nbubbleStyles: {\n  text: {\n    fontSize: 16,\n  },\n  chatbubble: {\n    borderRadius: 30,\n    padding: 10\n  }\n},\nheaderTitle: {\n  color: 'white',\n  fontSize: 22\n},\nheader: {\n  backgroundColor: 'rgb(0, 132, 255)',\n  padding: 20,\n  borderTop: '12px solid rgb(204, 204, 204)'\n},\nmessagesContainer: {\n  display: 'flex',\n  flexDirection: 'column',\n  padding: 10,\n  alignItems: 'center'\n},\ninput: {\n  fontSize: 16,\n  padding: 10,\n  outline: 'none',\n  width: 350,\n  border: 'none',\n  borderBottom: '2px solid rgb(0, 132, 255)'\n}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}